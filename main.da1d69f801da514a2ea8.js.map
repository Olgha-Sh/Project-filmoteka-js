{"version":3,"sources":["webpack:///./images/unnamed.png","webpack:///./js/services/filmAPI.js","webpack:///./js/models/model.js","webpack:///./js/utils/displayModeUtils.js","webpack:///./js/controllers/controllerRefs.js","webpack:///./js/utils/localStorageUtils.js","webpack:///./js/views/view.js","webpack:///./js/views/pages/homePage.js","webpack:///./js/views/pages/filmsPage.js","webpack:///./js/views/pages/libraryPage.js","webpack:///./js/views/pages/filmDetailsPage.js","webpack:///./js/views/components/scrollUp.js","webpack:///./js/views/components/filmControls.js","webpack:///./js/views/components/modalWindow.js","webpack:///./js/controllers/controller.js","webpack:///./js/router/router.js","webpack:///./js/utils/handlebarsUtils.js","webpack:///./index.js"],"names":["module","exports","API_KEY","baseURL","fetch","response","json","data","results","console","log","message","query","page","movieId","ok","activeNavNode","pageNumber","getFetchPopularFilms","filmAPI","getFetchFilms","getFetchFilmDetails","getFetchGenres","getFetchUpcomingFilms","this","string","number","libraryNavNode","document","querySelector","homeNavNode","filmsNavNode","searchForm","pagination","movieForm","formInput","formButton","scrollUp","resultsView","libraryControls","modalWindow","spanCloseModalWindow","modalWindowText","setActiveNavNode","node","activeClass","classList","remove","add","displaySearchForm","mode","refs","style","display","displayLibraryControls","clearResultsView","innerHTML","removeLibraryBtnActiveClass","Array","from","children","map","child","showSectionTitle","title","textContent","displayPaginationNode","setFilmToLocalStorage","key","filmObj","existFavList","localStorage","getItem","watchedFilms","JSON","parse","setItem","stringify","removeFilmFromLocalStorage","filteredFavFilms","filter","id","toggleBtnMark","target","label","dataset","marked","getDataFromLS","filmId","find","Number","addFilmToLibrary","e","film","button","status","getFilmsFromLibrary","toggle","parsedData","length","removeItem","templateName","model","templateSource","getElementById","Handlebars","compile","renderFn","resultNode","items","View","item","window","scrollTo","top","behavior","createFilmControlsSection","controls","detailsWrapper","filmControls","createElement","watchedBtn","setAttribute","queueBtn","createQueueButton","append","appendChild","openWarningModalWindow","modalWindowTextContent","fetchFilmsByQuery","Model","then","resultFilmsData","visibility","filmsPage","addEventListener","preventDefault","elements","searchQuery","value","searchQueryMovies","firstElementChild","move","currentPageNumber","homeRoute","displayModeUtils","popularFilms","homePage","filmsRoute","params","filmDetails","filmDetailsPage","localStorageUtils","upcomingFilms","libraryRoute","nodeName","existData","libraryPage","handleHash","name","location","hash","slice","split","Controller","registerHelper","release_date","reverse","poster_path","default_poster","Router"],"mappings":"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","file":"main.da1d69f801da514a2ea8.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","//Core\r\nconst API_KEY = '9e07f05bee226a5aad11e2f836e260f9';\r\nconst baseURL = 'https://api.themoviedb.org/3';\r\n\r\nexport default {\r\n    async fetchPopularFilms() {\r\n        try {\r\n            const response = await fetch(\r\n                `${baseURL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`,\r\n            );\r\n            const data = await response.json();\r\n\r\n            return data.results;\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    async fetchFilms(query, page) {\r\n        try {\r\n            const response = await fetch(\r\n                `${baseURL}/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=${page}&include_adult=false`,\r\n            );\r\n            const data = await response.json();\r\n\r\n            return data.results;\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    async fetchFilmDetails(movieId) {\r\n        try {\r\n            const response = await fetch(\r\n                `${baseURL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\r\n            );\r\n\r\n            return await (response.ok ? response.json() : null);\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    async fetchGenres() {\r\n        try {\r\n            const response = await fetch(\r\n                `${baseURL}/genre/movie/list?api_key=${API_KEY}&language=en-US`,\r\n            );\r\n            const data = await response.json();\r\n\r\n            return data.results;\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    async fetchUpcomingFilms() {\r\n        try {\r\n            const response = await fetch(\r\n                `${baseURL}/movie/upcoming?api_key=${API_KEY}&language=en-US&page=1`,\r\n            );\r\n            const data = await response.json();\r\n\r\n            return data.results;\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n};\r\n","import filmAPI from '../services/filmAPI';\r\n\r\nexport default {\r\n    pageNumber: 1,\r\n    query: '',\r\n\r\n    async getFetchPopularFilms() {\r\n        try {\r\n            return await filmAPI.fetchPopularFilms();\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    async getFetchFilms() {\r\n        try {\r\n            return await filmAPI.fetchFilms(this.query, this.pageNumber);\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    async getFetchFilmDetails(movieId) {\r\n        try {\r\n            return await filmAPI.fetchFilmDetails(movieId);\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    async getFetchGenres() {\r\n        return await filmAPI.fetchGenres();\r\n    },\r\n\r\n    async getFetchUpcomingFilms() {\r\n        try {\r\n            return await filmAPI.fetchUpcomingFilms();\r\n        } catch (error) {\r\n            console.log('error:' + error.message);\r\n        }\r\n    },\r\n\r\n    get searchQueryMovies() {\r\n        return this.query;\r\n    },\r\n\r\n    set searchQueryMovies(string) {\r\n        this.query = string;\r\n    },\r\n\r\n    get currentPageNumber() {\r\n        return this.pageNumber;\r\n    },\r\n\r\n    set currentPageNumber(number) {\r\n        this.pageNumber = number;\r\n    },\r\n};\r\n","import refs from '../controllers/controllerRefs';\r\n\r\nlet activeNavNode;\r\n\r\nfunction setActiveNavNode(node, activeClass) {\r\n    if (activeNavNode) {\r\n        activeNavNode.classList.remove(activeClass);\r\n    }\r\n\r\n    activeNavNode = node;\r\n    activeNavNode.classList.add(activeClass);\r\n}\r\n\r\nfunction displaySearchForm(mode) {\r\n    refs.searchForm.style.display = `${mode}`;\r\n}\r\n\r\nfunction displayPaginationNode(mode) {\r\n    refs.pagination.style.display = `${mode}`;\r\n}\r\n\r\nfunction displayLibraryControls(mode) {\r\n    refs.libraryControls.style.display = mode;\r\n}\r\n\r\nfunction clearResultsView() {\r\n    refs.resultsView.innerHTML = '';\r\n}\r\n\r\nfunction removeLibraryBtnActiveClass() {\r\n    Array.from(refs.libraryControls.children).map(child =>\r\n        child.classList.remove('activeBtn'),\r\n    );\r\n}\r\n\r\nfunction showSectionTitle(title) {\r\n    document.querySelector('.section-title').textContent = title;\r\n}\r\n\r\nexport default {\r\n    setActiveNavNode,\r\n    displaySearchForm,\r\n    displayLibraryControls,\r\n    clearResultsView,\r\n    removeLibraryBtnActiveClass,\r\n    showSectionTitle,\r\n    displayPaginationNode,\r\n};\r\n","export default {\r\n    libraryNavNode: document.querySelector('[data-role=nav-library]'),\r\n    homeNavNode: document.querySelector('[data-role=nav-home]'),\r\n    filmsNavNode: document.querySelector('[data-role=nav-films]'),\r\n    searchForm: document.querySelector('.searchbar'),\r\n    pagination: document.querySelector('.paginationContainer'),\r\n    movieForm: document.querySelector('#js-form'),\r\n    formInput: document.querySelector('.formInput'),\r\n    formButton: document.querySelector('.formButton'),\r\n    page: document.querySelector('#js-paginationPageNumber'),\r\n    scrollUp: document.querySelector('.scrollUp'),\r\n    resultsView: document.querySelector('#result'),\r\n    libraryControls: document.querySelector('.header-btn-container'),\r\n    modalWindow: document.querySelector('#errorTemplate'),\r\n    spanCloseModalWindow: document.querySelector('#errorModalClose'),\r\n    modalWindowText: document.querySelector('#errorModalText'),\r\n};\r\n","function setFilmToLocalStorage(key, filmObj) {\r\n    const existFavList = localStorage.getItem(key);\r\n\r\n    if (!existFavList) {\r\n        localStorage.setItem(key, JSON.stringify([filmObj]));\r\n        return;\r\n    }\r\n\r\n    const watchedFilms = [...JSON.parse(existFavList), filmObj];\r\n    localStorage.setItem(key, JSON.stringify(watchedFilms));\r\n}\r\n\r\nfunction removeFilmFromLocalStorage(key, filmObj) {\r\n    const existFavList = localStorage.getItem(key);\r\n\r\n    if (!existFavList) {\r\n        return setFilmToLocalStorage(key, filmObj);\r\n    }\r\n\r\n    const favFilms = [...JSON.parse(existFavList)];\r\n    const filteredFavFilms = favFilms.filter(({ id }) => id !== filmObj.id);\r\n    localStorage.setItem(key, JSON.stringify(filteredFavFilms));\r\n}\r\n\r\nfunction getDataFromLS(key, filmId) {\r\n    const existFavList = localStorage.getItem(key);\r\n\r\n    if (existFavList) {\r\n        const favMovies = [...JSON.parse(existFavList)];\r\n\r\n        favMovies.find(({ id }) => {\r\n            if (id === Number(filmId)) {\r\n                const targetBtn = document.querySelector(\r\n                    `button[data-status=\"${key}\"]`,\r\n                );\r\n\r\n                return toggleBtnMark(targetBtn, key);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction toggleBtnMark(target, label) {\r\n    if (target.dataset.marked === 'false') {\r\n        target.dataset.marked = 'true';\r\n        target.classList.add('activeBtn');\r\n        target.textContent = `Remove from ${label}`;\r\n        return true;\r\n    }\r\n\r\n    if (target.dataset.marked === 'true') {\r\n        target.dataset.marked = 'false';\r\n        target.classList.remove('activeBtn');\r\n        target.textContent = `Add to ${label}`;\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction addFilmToLibrary(e, film) {\r\n    const button = e.target;\r\n\r\n    if (button.dataset.status === 'watched') {\r\n        toggleBtnMark(button, 'watched')\r\n            ? setFilmToLocalStorage('watched', film)\r\n            : removeFilmFromLocalStorage('watched', film);\r\n    }\r\n\r\n    if (button.dataset.status === 'queue') {\r\n        toggleBtnMark(button, 'queue')\r\n            ? setFilmToLocalStorage('queue', film)\r\n            : removeFilmFromLocalStorage('queue', film);\r\n    }\r\n}\r\n\r\nfunction getFilmsFromLibrary(e) {\r\n    const key = e.target.dataset.toggle;\r\n    const isWatchedBtnSelect = key === 'watched';\r\n    const isQueueBtnSelect = key === 'queue';\r\n\r\n    if (isWatchedBtnSelect || isQueueBtnSelect) {\r\n        const existFavList = localStorage.getItem(key);\r\n        const parsedData = JSON.parse(existFavList);\r\n\r\n        const targetBtn = document.querySelector(\r\n            `button[data-toggle=\"${key === 'watched' ? 'queue' : 'watched'}\"]`,\r\n        );\r\n        targetBtn.classList.remove('activeBtn');\r\n\r\n        if (!existFavList || parsedData.length < 1) {\r\n            localStorage.removeItem(key);\r\n            return false;\r\n        }\r\n\r\n        const renderData = parsedData.map(data => data);\r\n        return renderData;\r\n    }\r\n}\r\n\r\nexport default {\r\n    getDataFromLS,\r\n    addFilmToLibrary,\r\n    getFilmsFromLibrary,\r\n};\r\n","export default {\r\n    render(templateName, model) {\r\n        templateName = templateName + 'Template';\r\n\r\n        const templateElement = document.getElementById(templateName);\r\n        const templateSource = templateElement.innerHTML;\r\n        const renderFn = Handlebars.compile(templateSource);\r\n        return renderFn(model);\r\n    },\r\n};\r\n","import View from '../view';\r\n\r\nconst resultNode = document.querySelector('#result');\r\n\r\nexport default {\r\n    render(items) {\r\n        resultNode.innerHTML = View.render('films', items);\r\n    },\r\n};\r\n","import View from '../view';\r\n\r\nconst resultNode = document.querySelector('#result');\r\n\r\nexport default {\r\n    render(items) {\r\n        resultNode.innerHTML = View.render('films', items);\r\n    },\r\n};\r\n","import View from '../view';\r\n\r\nconst resultNode = document.querySelector('#result');\r\n\r\nexport default {\r\n    render(items) {\r\n        resultNode.innerHTML = View.render('films', items);\r\n    },\r\n};\r\n","import View from '../view';\r\n\r\nconst resultNode = document.querySelector('#result');\r\n\r\nexport default {\r\n    render(item) {\r\n        resultNode.innerHTML = View.render('filmDetails', item);\r\n    },\r\n};\r\n","function scrollUp() {\r\n    window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth',\r\n    });\r\n}\r\n\r\nexport default scrollUp;\r\n","function createFilmControls() {\r\n    const controls = document.createElement('div');\r\n    controls.classList.add('film_controls');\r\n\r\n    return controls;\r\n}\r\n\r\nfunction createWatchedButton() {\r\n    const button = document.createElement('button');\r\n    button.classList.add('film_btn');\r\n    button.setAttribute('data-status', 'watched');\r\n    button.setAttribute('data-marked', 'false');\r\n    button.textContent = 'Add to watched';\r\n\r\n    return button;\r\n}\r\n\r\nfunction createQueueButton() {\r\n    const button = document.createElement('button');\r\n    button.classList.add('film_btn');\r\n    button.setAttribute('data-status', 'queue');\r\n    button.setAttribute('data-marked', 'false');\r\n    button.textContent = 'Add to queue';\r\n\r\n    return button;\r\n}\r\n\r\nfunction createFilmControlsSection() {\r\n    const detailsWrapper = document.querySelector('.details_wrapper');\r\n\r\n    const filmControls = createFilmControls();\r\n    const watchedBtn = createWatchedButton();\r\n    const queueBtn = createQueueButton();\r\n\r\n    filmControls.append(watchedBtn, queueBtn);\r\n    detailsWrapper.appendChild(filmControls);\r\n}\r\n\r\nexport default createFilmControlsSection;\r\n","import refs from '../../controllers/controllerRefs';\r\n\r\nexport function openWarningModalWindow(modalWindowTextContent) {\r\n    refs.modalWindowText.textContent = modalWindowTextContent;\r\n    refs.modalWindow.style.display = 'block';\r\n}\r\n\r\nexport function closeWarningModalWindow() {\r\n    refs.modalWindowText.textContent = '';\r\n    refs.modalWindow.style.display = 'none';\r\n}\r\n","//Core\r\nimport Model from '../models/model';\r\nimport refs from './controllerRefs';\r\n//Utils\r\nimport displayModeUtils from '../utils/displayModeUtils';\r\nimport localStorageUtils from '../utils/localStorageUtils';\r\n//Pages\r\nimport homePage from '../views/pages/homePage';\r\nimport filmsPage from '../views/pages/filmsPage';\r\nimport libraryPage from '../views/pages/libraryPage';\r\nimport filmDetailsPage from '../views/pages/filmDetailsPage';\r\n//Components\r\nimport scrollUp from '../views/components/scrollUp';\r\nimport createFilmControlsSection from '../views/components/filmControls';\r\nimport { openWarningModalWindow } from '../views/components/modalWindow';\r\nimport { closeWarningModalWindow } from '../views/components/modalWindow';\r\n//Refs\r\nrefs.scrollUp.addEventListener('click', scrollUp);\r\nrefs.movieForm.addEventListener('submit', searchFilms);\r\nrefs.pagination.addEventListener('click', paginationNavigation);\r\nrefs.modalWindow.addEventListener('click', closeWarningModalWindow);\r\n\r\nfunction searchFilms(e) {\r\n    e.preventDefault();\r\n\r\n    const formInput = e.target.elements.query;\r\n    const searchQuery = formInput.value;\r\n\r\n    if (!searchQuery) {\r\n        return openWarningModalWindow('Please, enter query.');\r\n    }\r\n\r\n    Model.searchQueryMovies = searchQuery;\r\n\r\n    fetchFilmsByQuery();\r\n\r\n    refs.pagination.style.display = 'flex';\r\n    refs.pagination.firstElementChild.style.visibility = 'hidden';\r\n\r\n    formInput.value = '';\r\n}\r\n\r\nfunction paginationNavigation(e) {\r\n    const button = e.target;\r\n\r\n    if (button.dataset.move === 'next') {\r\n        Model.currentPageNumber += 1;\r\n\r\n        fetchFilmsByQuery();\r\n        refs.page.textContent = Model.currentPageNumber;\r\n\r\n        if (Model.currentPageNumber > 1) {\r\n            refs.pagination.firstElementChild.style.visibility = 'visible';\r\n        }\r\n    }\r\n\r\n    if (button.dataset.move === 'prev') {\r\n        Model.currentPageNumber -= 1;\r\n\r\n        fetchFilmsByQuery();\r\n        refs.page.textContent = Model.currentPageNumber;\r\n\r\n        if (Model.currentPageNumber === 1) {\r\n            refs.pagination.firstElementChild.style.visibility = 'hidden';\r\n        }\r\n    }\r\n}\r\n\r\nasync function fetchFilmsByQuery() {\r\n    await Model.getFetchFilms().then(resultFilmsData => {\r\n        if (!resultFilmsData || resultFilmsData.length === 0) {\r\n            refs.pagination.style.visibility = 'hidden';\r\n            return openWarningModalWindow('No matches found. Make another query.');\r\n        }\r\n\r\n        filmsPage.render(resultFilmsData);\r\n    });\r\n}\r\n\r\nexport default {\r\n    async homeRoute() {\r\n        displayModeUtils.displaySearchForm('none');\r\n        displayModeUtils.displayPaginationNode('none');\r\n        displayModeUtils.displayLibraryControls('none');\r\n\r\n        const popularFilms = await Model.getFetchPopularFilms();\r\n\r\n        if (!popularFilms) {\r\n            return openWarningModalWindow(\r\n                'Something went wrong! Please, try again later',\r\n            );\r\n        }\r\n\r\n        homePage.render(popularFilms);\r\n\r\n        displayModeUtils.showSectionTitle('Popular Films');\r\n        displayModeUtils.setActiveNavNode(refs.homeNavNode, 'active');\r\n    },\r\n\r\n    async filmsRoute(params) {\r\n        if (params.id) {\r\n            displayModeUtils.displaySearchForm('none');\r\n            displayModeUtils.displayPaginationNode('none');\r\n            displayModeUtils.displayLibraryControls('none');\r\n\r\n            const filmDetails = await Model.getFetchFilmDetails(params.id);\r\n\r\n            if (!filmDetails) {\r\n                return openWarningModalWindow(\r\n                    'Something went wrong! Please try again later',\r\n                );\r\n            }\r\n\r\n            filmDetailsPage.render(filmDetails);\r\n\r\n            createFilmControlsSection();\r\n\r\n            localStorageUtils.getDataFromLS('watched', params.id);\r\n            localStorageUtils.getDataFromLS('queue', params.id);\r\n\r\n            const controls = document.querySelector('.film_controls');\r\n            controls.addEventListener('click', e =>\r\n                localStorageUtils.addFilmToLibrary(e, filmDetails),\r\n            );\r\n\r\n            displayModeUtils.setActiveNavNode(refs.filmsNavNode, 'active');\r\n        } else {\r\n            displayModeUtils.displaySearchForm('flex');\r\n            displayModeUtils.displayLibraryControls('none');\r\n            displayModeUtils.displayPaginationNode('none');\r\n            displayModeUtils.clearResultsView();\r\n\r\n            const upcomingFilms = await Model.getFetchUpcomingFilms();\r\n\r\n            if (!upcomingFilms) {\r\n                return openWarningModalWindow(\r\n                    'Something went wrong! Please try again later',\r\n                );\r\n            }\r\n\r\n            filmsPage.render(upcomingFilms);\r\n\r\n            displayModeUtils.showSectionTitle('Upcoming Films');\r\n            displayModeUtils.setActiveNavNode(refs.filmsNavNode, 'active');\r\n        }\r\n    },\r\n\r\n    async libraryRoute() {\r\n        displayModeUtils.displaySearchForm('none');\r\n        displayModeUtils.displayPaginationNode('none');\r\n        displayModeUtils.displayLibraryControls('flex');\r\n        displayModeUtils.clearResultsView();\r\n        displayModeUtils.removeLibraryBtnActiveClass();\r\n\r\n        refs.libraryControls.addEventListener('click', e => {\r\n            if (e.target.nodeName !== 'BUTTON') {\r\n                return;\r\n            }\r\n\r\n            const existData = localStorageUtils.getFilmsFromLibrary(e);\r\n\r\n            if (!existData) {\r\n                displayModeUtils.clearResultsView();\r\n                displayModeUtils.setActiveNavNode(refs.libraryNavNode, 'active');\r\n\r\n                return openWarningModalWindow(\r\n                    `${e.target.textContent} list is empty. Add movies there.`,\r\n                );\r\n            }\r\n\r\n            libraryPage.render(existData);\r\n\r\n            displayModeUtils.setActiveNavNode(e.target, 'activeBtn');\r\n            displayModeUtils.setActiveNavNode(refs.libraryNavNode, 'active');\r\n        });\r\n\r\n        displayModeUtils.setActiveNavNode(refs.libraryNavNode, 'active');\r\n    },\r\n};\r\n","import Controller from '../controllers/controller';\r\n\r\nfunction getRouteInfo() {\r\n    const hash = location.hash ? location.hash.slice(1) : (location.hash = 'home');\r\n    const [name, id] = hash.split('/');\r\n\r\n    return { name, params: { id } };\r\n}\r\n\r\nfunction handleHash() {\r\n    const { name, params } = getRouteInfo();\r\n\r\n    if (name) {\r\n        const routeName = name + 'Route';\r\n        Controller[routeName](params);\r\n    }\r\n}\r\n\r\nexport default {\r\n    init() {\r\n        window.addEventListener('hashchange', handleHash);\r\n        handleHash();\r\n    },\r\n};\r\n","import default_poster from '../../images/unnamed.png';\r\n\r\nHandlebars.registerHelper('formatReleaseDate', release_date => {\r\n    return release_date ? release_date.split('-').reverse()[2] : '';\r\n});\r\n\r\nHandlebars.registerHelper('formatFilmPoster', poster_path => {\r\n    return !poster_path\r\n        ? default_poster\r\n        : `https://image.tmdb.org/t/p/w500${poster_path}`;\r\n});\r\n","import Router from './js/router/router';\r\nimport './js/utils/handlebarsUtils';\r\nimport './sass/base.scss';\r\n\r\nRouter.init();\r\n"],"sourceRoot":""}